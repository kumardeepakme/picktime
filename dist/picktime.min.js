const t=Math.min,e=Math.max,i=Math.round,n=Math.floor,r=t=>({x:t,y:t}),o={left:"right",right:"left",bottom:"top",top:"bottom"},s={start:"end",end:"start"};function l(i,n,r){return e(i,t(n,r))}function a(t,e){return"function"==typeof t?t(e):t}function c(t){return t.split("-")[0]}function u(t){return t.split("-")[1]}function m(t){return"x"===t?"y":"x"}function h(t){return"y"===t?"height":"width"}function p(t){return["top","bottom"].includes(c(t))?"y":"x"}function f(t){return m(p(t))}function d(t){return t.replace(/start|end/g,(t=>s[t]))}function w(t){return t.replace(/left|right|bottom|top/g,(t=>o[t]))}function y(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function g(t){const{x:e,y:i,width:n,height:r}=t;return{width:n,height:r,top:i,left:e,right:e+n,bottom:i+r,x:e,y:i}}function b(t,e,i){let{reference:n,floating:r}=t;const o=p(e),s=f(e),l=h(s),a=c(e),m="y"===o,d=n.x+n.width/2-r.width/2,w=n.y+n.height/2-r.height/2,y=n[l]/2-r[l]/2;let g;switch(a){case"top":g={x:d,y:n.y-r.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:w};break;case"left":g={x:n.x-r.width,y:w};break;default:g={x:n.x,y:n.y}}switch(u(e)){case"start":g[s]-=y*(i&&m?-1:1);break;case"end":g[s]+=y*(i&&m?-1:1)}return g}async function v(t,e){var i;void 0===e&&(e={});const{x:n,y:r,platform:o,rects:s,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:m="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=a(e,t),d=y(f),w=l[p?"floating"===h?"reference":"floating":h],b=g(await o.getClippingRect({element:null==(i=await(null==o.isElement?void 0:o.isElement(w)))||i?w:w.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:m,strategy:c})),v="floating"===h?{x:n,y:r,width:s.floating.width,height:s.floating.height}:s.reference,k=await(null==o.getOffsetParent?void 0:o.getOffsetParent(l.floating)),x=await(null==o.isElement?void 0:o.isElement(k))&&await(null==o.getScale?void 0:o.getScale(k))||{x:1,y:1},E=g(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:k,strategy:c}):v);return{top:(b.top-E.top+d.top)/x.y,bottom:(E.bottom-b.bottom+d.bottom)/x.y,left:(b.left-E.left+d.left)/x.x,right:(E.right-b.right+d.right)/x.x}}function k(t){return S(t)?(t.nodeName||"").toLowerCase():"#document"}function x(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function E(t){var e;return null==(e=(S(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function S(t){return t instanceof Node||t instanceof x(t).Node}function T(t){return t instanceof Element||t instanceof x(t).Element}function L(t){return t instanceof HTMLElement||t instanceof x(t).HTMLElement}function A(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof x(t).ShadowRoot)}function D(t){const{overflow:e,overflowX:i,overflowY:n,display:r}=O(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+i)&&!["inline","contents"].includes(r)}function R(t){return["table","td","th"].includes(k(t))}function P(t){const e=M(),i=O(t);return"none"!==i.transform||"none"!==i.perspective||!!i.containerType&&"normal"!==i.containerType||!e&&!!i.backdropFilter&&"none"!==i.backdropFilter||!e&&!!i.filter&&"none"!==i.filter||["transform","perspective","filter"].some((t=>(i.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(i.contain||"").includes(t)))}function M(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function C(t){return["html","body","#document"].includes(k(t))}function O(t){return x(t).getComputedStyle(t)}function H(t){return T(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function $(t){if("html"===k(t))return t;const e=t.assignedSlot||t.parentNode||A(t)&&t.host||E(t);return A(e)?e.host:e}function I(t){const e=$(t);return C(e)?t.ownerDocument?t.ownerDocument.body:t.body:L(e)&&D(e)?e:I(e)}function F(t,e,i){var n;void 0===e&&(e=[]),void 0===i&&(i=!0);const r=I(t),o=r===(null==(n=t.ownerDocument)?void 0:n.body),s=x(r);return o?e.concat(s,s.visualViewport||[],D(r)?r:[],s.frameElement&&i?F(s.frameElement):[]):e.concat(r,F(r,[],i))}function W(t){const e=O(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=L(t),s=o?t.offsetWidth:n,l=o?t.offsetHeight:r,a=i(n)!==s||i(r)!==l;return a&&(n=s,r=l),{width:n,height:r,$:a}}function N(t){return T(t)?t:t.contextElement}function _(t){const e=N(t);if(!L(e))return r(1);const n=e.getBoundingClientRect(),{width:o,height:s,$:l}=W(e);let a=(l?i(n.width):n.width)/o,c=(l?i(n.height):n.height)/s;return a&&Number.isFinite(a)||(a=1),c&&Number.isFinite(c)||(c=1),{x:a,y:c}}const K=r(0);function q(t){const e=x(t);return M()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:K}function z(t,e,i,n){void 0===e&&(e=!1),void 0===i&&(i=!1);const o=t.getBoundingClientRect(),s=N(t);let l=r(1);e&&(n?T(n)&&(l=_(n)):l=_(t));const a=function(t,e,i){return void 0===e&&(e=!1),!(!i||e&&i!==x(t))&&e}(s,i,n)?q(s):r(0);let c=(o.left+a.x)/l.x,u=(o.top+a.y)/l.y,m=o.width/l.x,h=o.height/l.y;if(s){const t=x(s),e=n&&T(n)?x(n):n;let i=t,r=i.frameElement;for(;r&&n&&e!==i;){const t=_(r),e=r.getBoundingClientRect(),n=O(r),o=e.left+(r.clientLeft+parseFloat(n.paddingLeft))*t.x,s=e.top+(r.clientTop+parseFloat(n.paddingTop))*t.y;c*=t.x,u*=t.y,m*=t.x,h*=t.y,c+=o,u+=s,i=x(r),r=i.frameElement}}return g({width:m,height:h,x:c,y:u})}const B=[":popover-open",":modal"];function V(t){return B.some((e=>{try{return t.matches(e)}catch(t){return!1}}))}function j(t){return z(E(t)).left+H(t).scrollLeft}function U(t,i,n){let o;if("viewport"===i)o=function(t,e){const i=x(t),n=E(t),r=i.visualViewport;let o=n.clientWidth,s=n.clientHeight,l=0,a=0;if(r){o=r.width,s=r.height;const t=M();(!t||t&&"fixed"===e)&&(l=r.offsetLeft,a=r.offsetTop)}return{width:o,height:s,x:l,y:a}}(t,n);else if("document"===i)o=function(t){const i=E(t),n=H(t),r=t.ownerDocument.body,o=e(i.scrollWidth,i.clientWidth,r.scrollWidth,r.clientWidth),s=e(i.scrollHeight,i.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+j(t);const a=-n.scrollTop;return"rtl"===O(r).direction&&(l+=e(i.clientWidth,r.clientWidth)-o),{width:o,height:s,x:l,y:a}}(E(t));else if(T(i))o=function(t,e){const i=z(t,!0,"fixed"===e),n=i.top+t.clientTop,o=i.left+t.clientLeft,s=L(t)?_(t):r(1);return{width:t.clientWidth*s.x,height:t.clientHeight*s.y,x:o*s.x,y:n*s.y}}(i,n);else{const e=q(t);o={...i,x:i.x-e.x,y:i.y-e.y}}return g(o)}function Y(t,e){const i=$(t);return!(i===e||!T(i)||C(i))&&("fixed"===O(i).position||Y(i,e))}function X(t,e,i){const n=L(e),o=E(e),s="fixed"===i,l=z(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=r(0);if(n||!n&&!s)if(("body"!==k(e)||D(o))&&(a=H(e)),n){const t=z(e,!0,s,e);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}else o&&(c.x=j(o));return{x:l.left+a.scrollLeft-c.x,y:l.top+a.scrollTop-c.y,width:l.width,height:l.height}}function G(t){return"static"===O(t).position}function J(t,e){return L(t)&&"fixed"!==O(t).position?e?e(t):t.offsetParent:null}function Q(t,e){const i=x(t);if(V(t))return i;if(!L(t)){let e=$(t);for(;e&&!C(e);){if(T(e)&&!G(e))return e;e=$(e)}return i}let n=J(t,e);for(;n&&R(n)&&G(n);)n=J(n,e);return n&&C(n)&&G(n)&&!P(n)?i:n||function(t){let e=$(t);for(;L(e)&&!C(e);){if(P(e))return e;e=$(e)}return null}(t)||i}const Z={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:i,offsetParent:n,strategy:o}=t;const s="fixed"===o,l=E(n),a=!!e&&V(e.floating);if(n===l||a&&s)return i;let c={scrollLeft:0,scrollTop:0},u=r(1);const m=r(0),h=L(n);if((h||!h&&!s)&&(("body"!==k(n)||D(l))&&(c=H(n)),L(n))){const t=z(n);u=_(n),m.x=t.x+n.clientLeft,m.y=t.y+n.clientTop}return{width:i.width*u.x,height:i.height*u.y,x:i.x*u.x-c.scrollLeft*u.x+m.x,y:i.y*u.y-c.scrollTop*u.y+m.y}},getDocumentElement:E,getClippingRect:function(i){let{element:n,boundary:r,rootBoundary:o,strategy:s}=i;const l=[..."clippingAncestors"===r?V(n)?[]:function(t,e){const i=e.get(t);if(i)return i;let n=F(t,[],!1).filter((t=>T(t)&&"body"!==k(t))),r=null;const o="fixed"===O(t).position;let s=o?$(t):t;for(;T(s)&&!C(s);){const e=O(s),i=P(s);i||"fixed"!==e.position||(r=null),(o?!i&&!r:!i&&"static"===e.position&&r&&["absolute","fixed"].includes(r.position)||D(s)&&!i&&Y(t,s))?n=n.filter((t=>t!==s)):r=e,s=$(s)}return e.set(t,n),n}(n,this._c):[].concat(r),o],a=l[0],c=l.reduce(((i,r)=>{const o=U(n,r,s);return i.top=e(o.top,i.top),i.right=t(o.right,i.right),i.bottom=t(o.bottom,i.bottom),i.left=e(o.left,i.left),i}),U(n,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:Q,getElementRects:async function(t){const e=this.getOffsetParent||Q,i=this.getDimensions,n=await i(t.floating);return{reference:X(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:i}=W(t);return{width:e,height:i}},getScale:_,isElement:T,isRTL:function(t){return"rtl"===O(t).direction}};function tt(i,r,o,s){void 0===s&&(s={});const{ancestorScroll:l=!0,ancestorResize:a=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:u="function"==typeof IntersectionObserver,animationFrame:m=!1}=s,h=N(i),p=l||a?[...h?F(h):[],...F(r)]:[];p.forEach((t=>{l&&t.addEventListener("scroll",o,{passive:!0}),a&&t.addEventListener("resize",o)}));const f=h&&u?function(i,r){let o,s=null;const l=E(i);function a(){var t;clearTimeout(o),null==(t=s)||t.disconnect(),s=null}return function c(u,m){void 0===u&&(u=!1),void 0===m&&(m=1),a();const{left:h,top:p,width:f,height:d}=i.getBoundingClientRect();if(u||r(),!f||!d)return;const w={rootMargin:-n(p)+"px "+-n(l.clientWidth-(h+f))+"px "+-n(l.clientHeight-(p+d))+"px "+-n(h)+"px",threshold:e(0,t(1,m))||1};let y=!0;function g(t){const e=t[0].intersectionRatio;if(e!==m){if(!y)return c();e?c(!1,e):o=setTimeout((()=>{c(!1,1e-7)}),1e3)}y=!1}try{s=new IntersectionObserver(g,{...w,root:l.ownerDocument})}catch(t){s=new IntersectionObserver(g,w)}s.observe(i)}(!0),a}(h,o):null;let d,w=-1,y=null;c&&(y=new ResizeObserver((t=>{let[e]=t;e&&e.target===h&&y&&(y.unobserve(r),cancelAnimationFrame(w),w=requestAnimationFrame((()=>{var t;null==(t=y)||t.observe(r)}))),o()})),h&&!m&&y.observe(h),y.observe(r));let g=m?z(i):null;return m&&function t(){const e=z(i);!g||e.x===g.x&&e.y===g.y&&e.width===g.width&&e.height===g.height||o();g=e,d=requestAnimationFrame(t)}(),o(),()=>{var t;p.forEach((t=>{l&&t.removeEventListener("scroll",o),a&&t.removeEventListener("resize",o)})),null==f||f(),null==(t=y)||t.disconnect(),y=null,m&&cancelAnimationFrame(d)}}const et=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var i,n;const{x:r,y:o,placement:s,middlewareData:l}=e,m=await async function(t,e){const{placement:i,platform:n,elements:r}=t,o=await(null==n.isRTL?void 0:n.isRTL(r.floating)),s=c(i),l=u(i),m="y"===p(i),h=["left","top"].includes(s)?-1:1,f=o&&m?-1:1,d=a(e,t);let{mainAxis:w,crossAxis:y,alignmentAxis:g}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return l&&"number"==typeof g&&(y="end"===l?-1*g:g),m?{x:y*f,y:w*h}:{x:w*h,y:y*f}}(e,t);return s===(null==(i=l.offset)?void 0:i.placement)&&null!=(n=l.arrow)&&n.alignmentOffset?{}:{x:r+m.x,y:o+m.y,data:{...m,placement:s}}}}},it=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:i,y:n,placement:r}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:u={fn:t=>{let{x:e,y:i}=t;return{x:e,y:i}}},...h}=a(t,e),f={x:i,y:n},d=await v(e,h),w=p(c(r)),y=m(w);let g=f[y],b=f[w];if(o){const t="y"===y?"bottom":"right";g=l(g+d["y"===y?"top":"left"],g,g-d[t])}if(s){const t="y"===w?"bottom":"right";b=l(b+d["y"===w?"top":"left"],b,b-d[t])}const k=u.fn({...e,[y]:g,[w]:b});return{...k,data:{x:k.x-i,y:k.y-n}}}}},nt=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var i,n;const{placement:r,middlewareData:o,rects:s,initialPlacement:l,platform:m,elements:p}=e,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:E=!0,...S}=a(t,e);if(null!=(i=o.arrow)&&i.alignmentOffset)return{};const T=c(r),L=c(l)===l,A=await(null==m.isRTL?void 0:m.isRTL(p.floating)),D=b||(L||!E?[w(l)]:function(t){const e=w(t);return[d(t),e,d(e)]}(l));b||"none"===x||D.push(...function(t,e,i,n){const r=u(t);let o=function(t,e,i){const n=["left","right"],r=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return i?e?r:n:e?n:r;case"left":case"right":return e?o:s;default:return[]}}(c(t),"start"===i,n);return r&&(o=o.map((t=>t+"-"+r)),e&&(o=o.concat(o.map(d)))),o}(l,E,x,A));const R=[l,...D],P=await v(e,S),M=[];let C=(null==(n=o.flip)?void 0:n.overflows)||[];if(y&&M.push(P[T]),g){const t=function(t,e,i){void 0===i&&(i=!1);const n=u(t),r=f(t),o=h(r);let s="x"===r?n===(i?"end":"start")?"right":"left":"start"===n?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=w(s)),[s,w(s)]}(r,s,A);M.push(P[t[0]],P[t[1]])}if(C=[...C,{placement:r,overflows:M}],!M.every((t=>t<=0))){var O,H;const t=((null==(O=o.flip)?void 0:O.index)||0)+1,e=R[t];if(e)return{data:{index:t,overflows:C},reset:{placement:e}};let i=null==(H=C.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:H.placement;if(!i)switch(k){case"bestFit":{var $;const t=null==($=C.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:$[0];t&&(i=t);break}case"initialPlacement":i=l}if(r!==i)return{reset:{placement:i}}}return{}}}},rt=e=>({name:"arrow",options:e,async fn(i){const{x:n,y:r,placement:o,rects:s,platform:c,elements:m,middlewareData:p}=i,{element:d,padding:w=0}=a(e,i)||{};if(null==d)return{};const g=y(w),b={x:n,y:r},v=f(o),k=h(v),x=await c.getDimensions(d),E="y"===v,S=E?"top":"left",T=E?"bottom":"right",L=E?"clientHeight":"clientWidth",A=s.reference[k]+s.reference[v]-b[v]-s.floating[k],D=b[v]-s.reference[v],R=await(null==c.getOffsetParent?void 0:c.getOffsetParent(d));let P=R?R[L]:0;P&&await(null==c.isElement?void 0:c.isElement(R))||(P=m.floating[L]||s.floating[k]);const M=A/2-D/2,C=P/2-x[k]/2-1,O=t(g[S],C),H=t(g[T],C),$=O,I=P-x[k]-H,F=P/2-x[k]/2+M,W=l($,F,I),N=!p.arrow&&null!=u(o)&&F!==W&&s.reference[k]/2-(F<$?O:H)-x[k]/2<0,_=N?F<$?F-$:F-I:0;return{[v]:b[v]+_,data:{[v]:W,centerOffset:F-W-_,...N&&{alignmentOffset:_}},reset:N}}}),ot=(t,e,i)=>{const n=new Map,r={platform:Z,...i},o={...r.platform,_c:n};return(async(t,e,i)=>{const{placement:n="bottom",strategy:r="absolute",middleware:o=[],platform:s}=i,l=o.filter(Boolean),a=await(null==s.isRTL?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:m}=b(c,n,a),h=n,p={},f=0;for(let i=0;i<l.length;i++){const{name:o,fn:d}=l[i],{x:w,y:y,data:g,reset:v}=await d({x:u,y:m,initialPlacement:n,placement:h,strategy:r,middlewareData:p,rects:c,platform:s,elements:{reference:t,floating:e}});u=null!=w?w:u,m=null!=y?y:m,p={...p,[o]:{...p[o],...g}},v&&f<=50&&(f++,"object"==typeof v&&(v.placement&&(h=v.placement),v.rects&&(c=!0===v.rects?await s.getElementRects({reference:t,floating:e,strategy:r}):v.rects),({x:u,y:m}=b(c,h,a))),i=-1)}return{x:u,y:m,placement:h,strategy:r,middlewareData:p}})(t,e,{...r,platform:o})};class st{#t;#e;#i;#n;constructor(t,e,i){this.#t=t,this.#e=e,this.#i=i,this.#r(this.#e,this.#i)}#r(t,e){const i=document.createElement("div");i.setAttribute("tabindex","-1"),i.dataset.picker=`picktime${e}`,i.classList.add("picktime",`picktime--theme-${t.theme}`,`picktime--animation-${t.animation}`,`picktime--clock-${t.clock}`),i.innerHTML=`<div class="picktime--body">\n      <input class="picktime--input" type="text" name="pickerHours" maxlength="2" tabindex="1" readonly>\n      <div class="picktime--dots"></div>\n      <input class="picktime--input" type="text" name="pickerMinutes" maxlength="2" tabindex="2" readonly>\n      ${this.#o?this.#s():""}\n    </div>`;const n=this.#l();this.#a&&i.appendChild(n),document.body.appendChild(i),this.#n=i}position(){const t=this.#e.offset?.left||0,e=this.#e.offset?.top||0,i=this.#n.querySelector(".picktime--arrow");tt(this.#t,this.#n,(()=>{i&&(i.classList.remove("picktime--arrow-top"),i.classList.remove("picktime--arrow-bottom")),ot(this.#t,this.#n,{placement:"bottom-start",middleware:[et({crossAxis:t,mainAxis:e}),nt(),it({padding:5}),this.#a&&i&&rt({element:i})]}).then((({x:t,y:e,placement:n,middlewareData:r})=>{if(Object.assign(this.#n.style,{left:`${t}px`,top:`${e}px`}),this.#a&&i){const{y:t}=r.arrow,e={top:"bottom",right:"left",bottom:"top",left:"right"}[n.split("-")[0]];i&&i.classList.add(`picktime--arrow-${e}`),Object.assign(i.style,{left:"15px",top:null!=t?`${t}px`:"",right:"",bottom:"",[e]:"-6px"})}}))}))}#s(){return`<div class="picktime__meridiem">\n      <label class="picktime__meridiem--switch" tabindex="3" data-tabindex="3">\n        <input class="picktime__meridiem--radio" type="radio" name="pickerMeridiem${this.#i}" value="am">\n        <div class="picktime__meridiem--label"><span>AM</span></div>\n      </label>\n      <label class="picktime__meridiem--switch" tabindex="4" data-tabindex="4">\n        <input class="picktime__meridiem--radio" type="radio" name="pickerMeridiem${this.#i}" value="pm">\n        <div class="picktime__meridiem--label"><span>PM</span></div>\n      </label>\n    </div>`}#l(){const t=document.createElement("div");return t.className="picktime--arrow",t.innerHTML='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0s2.148.887 3.343 2.385C14.233 6.005 16 6 16 6z"/></svg><svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0s2.148.887 3.343 2.385C14.233 6.005 16 6 16 6z"/></svg>',t}get#o(){return 12===this.#e.clock}get#a(){return this.#e.arrow}get picker(){return this.#n}}class lt{#n;#i;#c;constructor(t,e,i,n){this.inputEl=t,this.clock=e.clock||12,this.hours=e.time.hours||12,this.minutes=e.time.minutes||0,this.meridiem=e.time.meridiem||"am",this.minuteSteps=e.minuteSteps||1,this.isUpDownKeys=e.upDownKeys||!1,this.isWheelSpin=e.wheelSpin||!1,this.#n=i,this.#i=n,this.hoursInputEl=this.#n.querySelector("input[name=pickerHours]"),this.minutesInputEl=this.#n.querySelector("input[name=pickerMinutes]"),this.meridiemInputEls=this.#n.querySelectorAll(`input[name=pickerMeridiem${this.#i}]`),this.meridiemInputEls.forEach((t=>{t.addEventListener("click",this.handleMeridiemClick),t.parentElement.addEventListener("keydown",this.handleMeridiemKeyDown)})),this.setTime({hours:this.hours,minutes:this.minutes,meridiem:this.meridiem}),this.#u(),this.#m()}setTime({hours:t,minutes:e,meridiem:i}){if(this.hours=Math.abs(t),this.minutes=Math.abs(e),24===this.clock)this.hours>23&&(this.hours=23),60===this.minutes&&(this.minutes=0),this.meridiem=null;else this.hours>12&&(this.hours=12),60===this.minutes&&(this.minutes=0),this.meridiem="am"!==i.toLowerCase()&&"pm"!==i.toLowerCase()?this.meridiem:i.toLowerCase();this.hoursInputEl.value=String(this.hours).padStart(2,"0"),this.minutesInputEl.value=String(this.minutes).padStart(2,"0"),12===this.clock&&this.meridiemInputEls.forEach((t=>{t.value.toLowerCase()===this.meridiem.toLowerCase()&&(t.checked=!0)}));const n=12===this.clock?`${String(this.hours).padStart(2,"0")}:${String(this.minutes).padStart(2,"0")} ${this.meridiem.toUpperCase()}`:`${String(this.hours).padStart(2,"0")}:${String(this.minutes).padStart(2,"0")}`;this.inputEl.value=n,this.#c={displayTime:n,meridiem:12===this.clock?this.meridiem:null,time:`${String(this.hours).padStart(2,"0")}:${String(this.minutes).padStart(2,"0")}`,utcOffset:this.#h()},this.inputEl.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))}#u(){[this.hoursInputEl,this.minutesInputEl].forEach((t=>t.addEventListener("keydown",(e=>{"Tab"!==e.key&&e.preventDefault(),this.isUpDownKeys&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),t.focus(),"pickerHours"===t.name?this.#p("ArrowUp"===e.key,"ArrowDown"===e.key):this.#f("ArrowUp"===e.key,"ArrowDown"===e.key)))}))))}handleMeridiemClick=t=>{this.meridiem=t.target.value.toLowerCase(),this.setTime({hours:this.hours,minutes:this.minutes,meridiem:this.meridiem})};handleMeridiemKeyDown=t=>{"Tab"!==t.key&&t.preventDefault(),"Space"!==t.code&&" "!==t.key||(this.meridiem=t.target.children[0].value.toLowerCase(),this.setTime({hours:this.hours,minutes:this.minutes,meridiem:this.meridiem}))};handleWheel=t=>{t.deltaY&&(t.preventDefault(),t.target.focus(),"pickerHours"===t.target.name?this.#p(t.deltaY>0,t.deltaY<0):this.#f(t.deltaY>0,t.deltaY<0))};#m(){this.isWheelSpin&&[this.hoursInputEl,this.minutesInputEl].forEach((t=>t.addEventListener("wheel",this.handleWheel)))}#p(t,e){if(t&&(this.hours+=1),e&&(this.hours-=1),24===this.clock)this.hours<0&&(this.hours=23),this.hours>23&&(this.hours=0);else 0===this.hours&&(this.hours=12),this.hours>12&&(this.hours=1);this.setTime({hours:this.hours,minutes:this.minutes,meridiem:this.meridiem})}#f(t,e){if(t&&(this.minutes+=this.minuteSteps),e&&(this.minutes-=this.minuteSteps),this.minutes<0)if(this.minutes=60-this.minuteSteps,24===this.clock)0===this.hours&&(this.hours=24),this.hours-=1;else 1===this.hours&&(this.hours=12),this.hours-=1;if(this.minutes>60-this.minuteSteps)if(this.minutes=0,24===this.clock)23===this.hours&&(this.hours=0),this.hours+=1;else 12===this.hours&&(this.hours=0),this.hours+=1;this.setTime({hours:this.hours,minutes:this.minutes,meridiem:this.meridiem})}#h(){const t=(new Date).getTimezoneOffset(),e=Math.floor(Math.abs(t)/60),i=Math.abs(t)%60;return`${t<=0?"+":"-"}${String(e).padStart(2,"0")}:${String(i).padStart(2,"0")}`}get time(){return this.#c}}class at{#t;#e;#d={animation:"drop",arrow:!0,clock:12,minuteSteps:1,offset:{left:0,top:2},theme:"light",time:{hours:12,minutes:0,meridiem:"am"},upDownKeys:!0,wheelSpin:!0};static pickers=0;#w;#c;constructor(t,e){this.#t=t,(t=>{if(!t)throw new Error("element is not defined");if("INPUT"!==t.tagName||"text"!==t.type)throw new Error("element is not an input text element");t.setAttribute("readonly","")})(this.#t),this.#e=e&&(t=>{if("object"!=typeof t||Array.isArray(t))throw new Error("options must be an object");if("animation"in t&&"string"!=typeof t.animation)throw new Error('"animation" property must be of type string');if(t.animation&&""===t.animation.trim())throw new Error('"animation" property must not be an empty string');if("arrow"in t&&"boolean"!=typeof t.arrow)throw new Error('"arrow" property must be of type boolean');if("clock"in t&&"number"!=typeof t.clock)throw new Error('"clock" property must be of type number');if(t.clock&&12!==t.clock&&24!==t.clock)throw new Error('"clock" property only accepts 12/24 as a value');if("minuteSteps"in t&&"number"!=typeof t.minuteSteps)throw new Error('"minuteSteps" property must be of type number');if(t.minuteSteps&&(t.minuteSteps<1||t.minuteSteps>59))throw new RangeError('"minuteSteps" property must range between 1-59');if("offset"in t&&("object"==typeof t.offset||!Array.isArray(t.offset))){if(t.offset?.top&&!Number.isInteger(t.offset.top))throw new Error('"offset.top" must be an integer');if(t.offset?.left&&!Number.isInteger(t.offset.left))throw new Error('"offset.left" must be an integer')}if("theme"in t&&"string"!=typeof t.theme)throw new Error('"theme" property must be of type string');if(t.theme&&""===t.theme.trim())throw new Error('"theme" property must not be an empty string');if("time"in t&&("object"==typeof t.time||!Array.isArray(t.time))){if(t.time?.hours&&!Number.isInteger(t.time.hours))throw new Error('"time.hours" must be an integer');if(t.time?.hours&&(t.time.hours<0||t.time.hours>23))throw new RangeError('"time.hours" property must range between 1-23');if(t.time?.minutes&&!Number.isInteger(t.time.minutes))throw new Error('"time.minutes" must be an integer');if(t.time?.minutes&&(t.time.minutes<0||t.time.minutes>59))throw new RangeError('"time.minutes" property must range between 1-59');if(t.time?.meridiem&&"string"!=typeof t.time.meridiem)throw new Error('"time.meridiem" must be a string');if(t.time?.meridiem&&"am"!==t.time?.meridiem.toLowerCase()&&"pm"!==t.time?.meridiem.toLowerCase())throw new Error('"time.meridiem" value must be am/pm')}if("upDownKeys"in t&&"boolean"!=typeof t.upDownKeys)throw new Error('"upDownKeys" property must be of type boolean');if("wheelSpin"in t&&"boolean"!=typeof t.wheelSpin)throw new Error('"wheelSpin" property must be of type boolean');if(!1===t.upDownKeys&&!1===t.wheelSpin)throw new Error('atleast one of "upDownKeys" OR "wheelSpin" must be true');return!0})(e)?{...this.#d,...e}:this.#d,at.pickers++,this.#y(this.#t,this.#e,at.pickers),this.#g(),this.#c=new lt(this.#t,this.#e,this.#w.picker,at.pickers)}#y(t,e,i){const n=new st(t,e,i);this.#w=n}#b=()=>{this.#w.picker.classList.add("picktime--active"),this.#w.position(),this.#w.picker.querySelector("input[name=pickerHours]").focus({preventScroll:!0})};#v=t=>{t.target===this.#t||t.target===this.#w.picker||t.target.className.startsWith("picktime")||this.#w.picker.classList.remove("picktime--active")};#g(){this.#t.addEventListener("focus",this.#b),document.addEventListener("mousedown",this.#v)}setTime({hours:t,minutes:e,meridiem:i}){if(t&&!Number.isInteger(t))throw new Error('setTime() "hours" must be an integer');if(t&&(t<0||t>23))throw new RangeError('setTime() "hours" property must range between 1-23');if(e&&!Number.isInteger(e))throw new Error('setTime() "minutes" must be an integer');if(e&&(e<0||e>59))throw new RangeError('setTime() "minutes" property must range between 1-59');if(i&&"string"!=typeof i)throw new Error('setTime() "meridiem" must be a string');if(i&&"am"!==i.toLowerCase()&&"pm"!==i.toLowerCase())throw new Error('setTime() "meridiem" value must be am/pm');this.#c.setTime({hours:t,minutes:e,meridiem:i})}disable(){this.#w.picker.querySelectorAll("input[type=text]").forEach((t=>{t.setAttribute("disabled",""),t.removeEventListener("wheel",this.#c.handleWheel),t.style.pointerEvents="none"})),this.#w.picker.querySelectorAll("input[type=radio]").forEach((t=>{t.removeEventListener("click",this.#c.handleMeridiemClick),t.parentElement.removeEventListener("keydown",this.#c.handleMeridiemKeyDown),t.parentElement.style.pointerEvents="none",t.parentElement.setAttribute("tabindex","-1")}))}enable(){this.#w.picker.querySelectorAll("input[type=text]").forEach((t=>{t.removeAttribute("disabled"),t.addEventListener("wheel",this.#c.handleWheel),t.style.pointerEvents="auto"})),this.#w.picker.querySelectorAll("input[type=radio]").forEach((t=>{t.addEventListener("click",this.#c.handleMeridiemClick),t.parentElement.addEventListener("keydown",this.#c.handleMeridiemKeyDown),t.parentElement.style.pointerEvents="auto",t.parentElement.setAttribute("tabindex",t.parentElement.dataset.tabindex)}))}destroy(){at.pickers--,this.#e=this.#d,this.#w.picker.remove(),this.#t.value="",this.#t.removeAttribute("readonly"),this.#t.removeEventListener("focus",this.#b),document.removeEventListener("mousedown",this.#v)}get getTime(){return this.#c.time}}export{at as PickTime};
