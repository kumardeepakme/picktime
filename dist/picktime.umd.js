!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).PickTime={})}(this,(function(t){"use strict";const e=Math.min,i=Math.max,n=Math.round,r=Math.floor,o=t=>({x:t,y:t}),s={left:"right",right:"left",bottom:"top",top:"bottom"},l={start:"end",end:"start"};function a(t,n,r){return i(t,e(n,r))}function c(t,e){return"function"==typeof t?t(e):t}function u(t){return t.split("-")[0]}function m(t){return t.split("-")[1]}function h(t){return"x"===t?"y":"x"}function p(t){return"y"===t?"height":"width"}const f=new Set(["top","bottom"]);function d(t){return f.has(u(t))?"y":"x"}function w(t){return h(d(t))}function y(t){return t.replace(/start|end/g,(t=>l[t]))}const g=["left","right"],b=["right","left"],v=["top","bottom"],x=["bottom","top"];function k(t,e,i,n){const r=m(t);let o=function(t,e,i){switch(t){case"top":case"bottom":return i?e?b:g:e?g:b;case"left":case"right":return e?v:x;default:return[]}}(u(t),"start"===i,n);return r&&(o=o.map((t=>t+"-"+r)),e&&(o=o.concat(o.map(y)))),o}function E(t){return t.replace(/left|right|bottom|top/g,(t=>s[t]))}function S(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function T(t){const{x:e,y:i,width:n,height:r}=t;return{width:n,height:r,top:i,left:e,right:e+n,bottom:i+r,x:e,y:i}}function L(t,e,i){let{reference:n,floating:r}=t;const o=d(e),s=w(e),l=p(s),a=u(e),c="y"===o,h=n.x+n.width/2-r.width/2,f=n.y+n.height/2-r.height/2,y=n[l]/2-r[l]/2;let g;switch(a){case"top":g={x:h,y:n.y-r.height};break;case"bottom":g={x:h,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-r.width,y:f};break;default:g={x:n.x,y:n.y}}switch(m(e)){case"start":g[s]-=y*(i&&c?-1:1);break;case"end":g[s]+=y*(i&&c?-1:1)}return g}async function A(t,e){var i;void 0===e&&(e={});const{x:n,y:r,platform:o,rects:s,elements:l,strategy:a}=t,{boundary:u="clippingAncestors",rootBoundary:m="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=c(e,t),d=S(f),w=l[p?"floating"===h?"reference":"floating":h],y=T(await o.getClippingRect({element:null==(i=await(null==o.isElement?void 0:o.isElement(w)))||i?w:w.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:m,strategy:a})),g="floating"===h?{x:n,y:r,width:s.floating.width,height:s.floating.height}:s.reference,b=await(null==o.getOffsetParent?void 0:o.getOffsetParent(l.floating)),v=await(null==o.isElement?void 0:o.isElement(b))&&await(null==o.getScale?void 0:o.getScale(b))||{x:1,y:1},x=T(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:b,strategy:a}):g);return{top:(y.top-x.top+d.top)/v.y,bottom:(x.bottom-y.bottom+d.bottom)/v.y,left:(y.left-x.left+d.left)/v.x,right:(x.right-y.right+d.right)/v.x}}const R=new Set(["left","top"]);function D(){return"undefined"!=typeof window}function P(t){return O(t)?(t.nodeName||"").toLowerCase():"#document"}function M(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function C(t){var e;return null==(e=(O(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function O(t){return!!D()&&(t instanceof Node||t instanceof M(t).Node)}function H(t){return!!D()&&(t instanceof Element||t instanceof M(t).Element)}function $(t){return!!D()&&(t instanceof HTMLElement||t instanceof M(t).HTMLElement)}function I(t){return!(!D()||"undefined"==typeof ShadowRoot)&&(t instanceof ShadowRoot||t instanceof M(t).ShadowRoot)}const F=new Set(["inline","contents"]);function W(t){const{overflow:e,overflowX:i,overflowY:n,display:r}=G(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+i)&&!F.has(r)}const N=new Set(["table","td","th"]);function _(t){return N.has(P(t))}const K=[":popover-open",":modal"];function q(t){return K.some((e=>{try{return t.matches(e)}catch(t){return!1}}))}const B=["transform","translate","scale","rotate","perspective"],j=["transform","translate","scale","rotate","perspective","filter"],z=["paint","layout","strict","content"];function V(t){const e=U(),i=H(t)?G(t):t;return B.some((t=>!!i[t]&&"none"!==i[t]))||!!i.containerType&&"normal"!==i.containerType||!e&&!!i.backdropFilter&&"none"!==i.backdropFilter||!e&&!!i.filter&&"none"!==i.filter||j.some((t=>(i.willChange||"").includes(t)))||z.some((t=>(i.contain||"").includes(t)))}function U(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Y=new Set(["html","body","#document"]);function X(t){return Y.has(P(t))}function G(t){return M(t).getComputedStyle(t)}function J(t){return H(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Q(t){if("html"===P(t))return t;const e=t.assignedSlot||t.parentNode||I(t)&&t.host||C(t);return I(e)?e.host:e}function Z(t){const e=Q(t);return X(e)?t.ownerDocument?t.ownerDocument.body:t.body:$(e)&&W(e)?e:Z(e)}function tt(t,e,i){var n;void 0===e&&(e=[]),void 0===i&&(i=!0);const r=Z(t),o=r===(null==(n=t.ownerDocument)?void 0:n.body),s=M(r);if(o){const t=et(s);return e.concat(s,s.visualViewport||[],W(r)?r:[],t&&i?tt(t):[])}return e.concat(r,tt(r,[],i))}function et(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function it(t){const e=G(t);let i=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=$(t),s=o?t.offsetWidth:i,l=o?t.offsetHeight:r,a=n(i)!==s||n(r)!==l;return a&&(i=s,r=l),{width:i,height:r,$:a}}function nt(t){return H(t)?t:t.contextElement}function rt(t){const e=nt(t);if(!$(e))return o(1);const i=e.getBoundingClientRect(),{width:r,height:s,$:l}=it(e);let a=(l?n(i.width):i.width)/r,c=(l?n(i.height):i.height)/s;return a&&Number.isFinite(a)||(a=1),c&&Number.isFinite(c)||(c=1),{x:a,y:c}}const ot=o(0);function st(t){const e=M(t);return U()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:ot}function lt(t,e,i,n){void 0===e&&(e=!1),void 0===i&&(i=!1);const r=t.getBoundingClientRect(),s=nt(t);let l=o(1);e&&(n?H(n)&&(l=rt(n)):l=rt(t));const a=function(t,e,i){return void 0===e&&(e=!1),!(!i||e&&i!==M(t))&&e}(s,i,n)?st(s):o(0);let c=(r.left+a.x)/l.x,u=(r.top+a.y)/l.y,m=r.width/l.x,h=r.height/l.y;if(s){const t=M(s),e=n&&H(n)?M(n):n;let i=t,r=et(i);for(;r&&n&&e!==i;){const t=rt(r),e=r.getBoundingClientRect(),n=G(r),o=e.left+(r.clientLeft+parseFloat(n.paddingLeft))*t.x,s=e.top+(r.clientTop+parseFloat(n.paddingTop))*t.y;c*=t.x,u*=t.y,m*=t.x,h*=t.y,c+=o,u+=s,i=M(r),r=et(i)}}return T({width:m,height:h,x:c,y:u})}function at(t,e){const i=J(t).scrollLeft;return e?e.left+i:lt(C(t)).left+i}function ct(t,e,i){void 0===i&&(i=!1);const n=t.getBoundingClientRect();return{x:n.left+e.scrollLeft-(i?0:at(t,n)),y:n.top+e.scrollTop}}const ut=new Set(["absolute","fixed"]);function mt(t,e,n){let r;if("viewport"===e)r=function(t,e){const i=M(t),n=C(t),r=i.visualViewport;let o=n.clientWidth,s=n.clientHeight,l=0,a=0;if(r){o=r.width,s=r.height;const t=U();(!t||t&&"fixed"===e)&&(l=r.offsetLeft,a=r.offsetTop)}return{width:o,height:s,x:l,y:a}}(t,n);else if("document"===e)r=function(t){const e=C(t),n=J(t),r=t.ownerDocument.body,o=i(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=i(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+at(t);const a=-n.scrollTop;return"rtl"===G(r).direction&&(l+=i(e.clientWidth,r.clientWidth)-o),{width:o,height:s,x:l,y:a}}(C(t));else if(H(e))r=function(t,e){const i=lt(t,!0,"fixed"===e),n=i.top+t.clientTop,r=i.left+t.clientLeft,s=$(t)?rt(t):o(1);return{width:t.clientWidth*s.x,height:t.clientHeight*s.y,x:r*s.x,y:n*s.y}}(e,n);else{const i=st(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return T(r)}function ht(t,e){const i=Q(t);return!(i===e||!H(i)||X(i))&&("fixed"===G(i).position||ht(i,e))}function pt(t,e,i){const n=$(e),r=C(e),s="fixed"===i,l=lt(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=o(0);function u(){c.x=at(r)}if(n||!n&&!s)if(("body"!==P(e)||W(r))&&(a=J(e)),n){const t=lt(e,!0,s,e);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}else r&&u();s&&!n&&r&&u();const m=!r||n||s?o(0):ct(r,a);return{x:l.left+a.scrollLeft-c.x-m.x,y:l.top+a.scrollTop-c.y-m.y,width:l.width,height:l.height}}function ft(t){return"static"===G(t).position}function dt(t,e){if(!$(t)||"fixed"===G(t).position)return null;if(e)return e(t);let i=t.offsetParent;return C(t)===i&&(i=i.ownerDocument.body),i}function wt(t,e){const i=M(t);if(q(t))return i;if(!$(t)){let e=Q(t);for(;e&&!X(e);){if(H(e)&&!ft(e))return e;e=Q(e)}return i}let n=dt(t,e);for(;n&&_(n)&&ft(n);)n=dt(n,e);return n&&X(n)&&ft(n)&&!V(n)?i:n||function(t){let e=Q(t);for(;$(e)&&!X(e);){if(V(e))return e;if(q(e))return null;e=Q(e)}return null}(t)||i}const yt={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:i,offsetParent:n,strategy:r}=t;const s="fixed"===r,l=C(n),a=!!e&&q(e.floating);if(n===l||a&&s)return i;let c={scrollLeft:0,scrollTop:0},u=o(1);const m=o(0),h=$(n);if((h||!h&&!s)&&(("body"!==P(n)||W(l))&&(c=J(n)),$(n))){const t=lt(n);u=rt(n),m.x=t.x+n.clientLeft,m.y=t.y+n.clientTop}const p=!l||h||s?o(0):ct(l,c,!0);return{width:i.width*u.x,height:i.height*u.y,x:i.x*u.x-c.scrollLeft*u.x+m.x+p.x,y:i.y*u.y-c.scrollTop*u.y+m.y+p.y}},getDocumentElement:C,getClippingRect:function(t){let{element:n,boundary:r,rootBoundary:o,strategy:s}=t;const l=[..."clippingAncestors"===r?q(n)?[]:function(t,e){const i=e.get(t);if(i)return i;let n=tt(t,[],!1).filter((t=>H(t)&&"body"!==P(t))),r=null;const o="fixed"===G(t).position;let s=o?Q(t):t;for(;H(s)&&!X(s);){const e=G(s),i=V(s);i||"fixed"!==e.position||(r=null),(o?!i&&!r:!i&&"static"===e.position&&r&&ut.has(r.position)||W(s)&&!i&&ht(t,s))?n=n.filter((t=>t!==s)):r=e,s=Q(s)}return e.set(t,n),n}(n,this._c):[].concat(r),o],a=l[0],c=l.reduce(((t,r)=>{const o=mt(n,r,s);return t.top=i(o.top,t.top),t.right=e(o.right,t.right),t.bottom=e(o.bottom,t.bottom),t.left=i(o.left,t.left),t}),mt(n,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:wt,getElementRects:async function(t){const e=this.getOffsetParent||wt,i=this.getDimensions,n=await i(t.floating);return{reference:pt(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:i}=it(t);return{width:e,height:i}},getScale:rt,isElement:H,isRTL:function(t){return"rtl"===G(t).direction}};function gt(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function bt(t,n,o,s){void 0===s&&(s={});const{ancestorScroll:l=!0,ancestorResize:a=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:u="function"==typeof IntersectionObserver,animationFrame:m=!1}=s,h=nt(t),p=l||a?[...h?tt(h):[],...tt(n)]:[];p.forEach((t=>{l&&t.addEventListener("scroll",o,{passive:!0}),a&&t.addEventListener("resize",o)}));const f=h&&u?function(t,n){let o,s=null;const l=C(t);function a(){var t;clearTimeout(o),null==(t=s)||t.disconnect(),s=null}return function c(u,m){void 0===u&&(u=!1),void 0===m&&(m=1),a();const h=t.getBoundingClientRect(),{left:p,top:f,width:d,height:w}=h;if(u||n(),!d||!w)return;const y={rootMargin:-r(f)+"px "+-r(l.clientWidth-(p+d))+"px "+-r(l.clientHeight-(f+w))+"px "+-r(p)+"px",threshold:i(0,e(1,m))||1};let g=!0;function b(e){const i=e[0].intersectionRatio;if(i!==m){if(!g)return c();i?c(!1,i):o=setTimeout((()=>{c(!1,1e-7)}),1e3)}1!==i||gt(h,t.getBoundingClientRect())||c(),g=!1}try{s=new IntersectionObserver(b,{...y,root:l.ownerDocument})}catch(t){s=new IntersectionObserver(b,y)}s.observe(t)}(!0),a}(h,o):null;let d,w=-1,y=null;c&&(y=new ResizeObserver((t=>{let[e]=t;e&&e.target===h&&y&&(y.unobserve(n),cancelAnimationFrame(w),w=requestAnimationFrame((()=>{var t;null==(t=y)||t.observe(n)}))),o()})),h&&!m&&y.observe(h),y.observe(n));let g=m?lt(t):null;return m&&function e(){const i=lt(t);g&&!gt(g,i)&&o();g=i,d=requestAnimationFrame(e)}(),o(),()=>{var t;p.forEach((t=>{l&&t.removeEventListener("scroll",o),a&&t.removeEventListener("resize",o)})),null==f||f(),null==(t=y)||t.disconnect(),y=null,m&&cancelAnimationFrame(d)}}const vt=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var i,n;const{x:r,y:o,placement:s,middlewareData:l}=e,a=await async function(t,e){const{placement:i,platform:n,elements:r}=t,o=await(null==n.isRTL?void 0:n.isRTL(r.floating)),s=u(i),l=m(i),a="y"===d(i),h=R.has(s)?-1:1,p=o&&a?-1:1,f=c(e,t);let{mainAxis:w,crossAxis:y,alignmentAxis:g}="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&"number"==typeof g&&(y="end"===l?-1*g:g),a?{x:y*p,y:w*h}:{x:w*h,y:y*p}}(e,t);return s===(null==(i=l.offset)?void 0:i.placement)&&null!=(n=l.arrow)&&n.alignmentOffset?{}:{x:r+a.x,y:o+a.y,data:{...a,placement:s}}}}},xt=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:i,y:n,placement:r}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:l={fn:t=>{let{x:e,y:i}=t;return{x:e,y:i}}},...m}=c(t,e),p={x:i,y:n},f=await A(e,m),w=d(u(r)),y=h(w);let g=p[y],b=p[w];if(o){const t="y"===y?"bottom":"right";g=a(g+f["y"===y?"top":"left"],g,g-f[t])}if(s){const t="y"===w?"bottom":"right";b=a(b+f["y"===w?"top":"left"],b,b-f[t])}const v=l.fn({...e,[y]:g,[w]:b});return{...v,data:{x:v.x-i,y:v.y-n,enabled:{[y]:o,[w]:s}}}}}},kt=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var i,n;const{placement:r,middlewareData:o,rects:s,initialPlacement:l,platform:a,elements:h}=e,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:S=!0,...T}=c(t,e);if(null!=(i=o.arrow)&&i.alignmentOffset)return{};const L=u(r),R=d(l),D=u(l)===l,P=await(null==a.isRTL?void 0:a.isRTL(h.floating)),M=b||(D||!S?[E(l)]:function(t){const e=E(t);return[y(t),e,y(e)]}(l)),C="none"!==x;!b&&C&&M.push(...k(l,S,x,P));const O=[l,...M],H=await A(e,T),$=[];let I=(null==(n=o.flip)?void 0:n.overflows)||[];if(f&&$.push(H[L]),g){const t=function(t,e,i){void 0===i&&(i=!1);const n=m(t),r=w(t),o=p(r);let s="x"===r?n===(i?"end":"start")?"right":"left":"start"===n?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=E(s)),[s,E(s)]}(r,s,P);$.push(H[t[0]],H[t[1]])}if(I=[...I,{placement:r,overflows:$}],!$.every((t=>t<=0))){var F,W;const t=((null==(F=o.flip)?void 0:F.index)||0)+1,e=O[t];if(e){if(!("alignment"===g&&R!==d(e))||I.every((t=>d(t.placement)!==R||t.overflows[0]>0)))return{data:{index:t,overflows:I},reset:{placement:e}}}let i=null==(W=I.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:W.placement;if(!i)switch(v){case"bestFit":{var N;const t=null==(N=I.filter((t=>{if(C){const e=d(t.placement);return e===R||"y"===e}return!0})).map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:N[0];t&&(i=t);break}case"initialPlacement":i=l}if(r!==i)return{reset:{placement:i}}}return{}}}},Et=t=>({name:"arrow",options:t,async fn(i){const{x:n,y:r,placement:o,rects:s,platform:l,elements:u,middlewareData:h}=i,{element:f,padding:d=0}=c(t,i)||{};if(null==f)return{};const y=S(d),g={x:n,y:r},b=w(o),v=p(b),x=await l.getDimensions(f),k="y"===b,E=k?"top":"left",T=k?"bottom":"right",L=k?"clientHeight":"clientWidth",A=s.reference[v]+s.reference[b]-g[b]-s.floating[v],R=g[b]-s.reference[b],D=await(null==l.getOffsetParent?void 0:l.getOffsetParent(f));let P=D?D[L]:0;P&&await(null==l.isElement?void 0:l.isElement(D))||(P=u.floating[L]||s.floating[v]);const M=A/2-R/2,C=P/2-x[v]/2-1,O=e(y[E],C),H=e(y[T],C),$=O,I=P-x[v]-H,F=P/2-x[v]/2+M,W=a($,F,I),N=!h.arrow&&null!=m(o)&&F!==W&&s.reference[v]/2-(F<$?O:H)-x[v]/2<0,_=N?F<$?F-$:F-I:0;return{[b]:g[b]+_,data:{[b]:W,centerOffset:F-W-_,...N&&{alignmentOffset:_}},reset:N}}}),St=(t,e,i)=>{const n=new Map,r={platform:yt,...i},o={...r.platform,_c:n};return(async(t,e,i)=>{const{placement:n="bottom",strategy:r="absolute",middleware:o=[],platform:s}=i,l=o.filter(Boolean),a=await(null==s.isRTL?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:m}=L(c,n,a),h=n,p={},f=0;for(let i=0;i<l.length;i++){const{name:o,fn:d}=l[i],{x:w,y:y,data:g,reset:b}=await d({x:u,y:m,initialPlacement:n,placement:h,strategy:r,middlewareData:p,rects:c,platform:s,elements:{reference:t,floating:e}});u=null!=w?w:u,m=null!=y?y:m,p={...p,[o]:{...p[o],...g}},b&&f<=50&&(f++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await s.getElementRects({reference:t,floating:e,strategy:r}):b.rects),({x:u,y:m}=L(c,h,a))),i=-1)}return{x:u,y:m,placement:h,strategy:r,middlewareData:p}})(t,e,{...r,platform:o})};class Tt{#t;#e;#i;#n;constructor(t,e,i){this.#t=t,this.#e=e,this.#i=i,this.#r(this.#e,this.#i)}#r(t,e){const i=document.createElement("div");i.setAttribute("tabindex","-1"),i.dataset.picker=`picktime${e}`,i.classList.add("picktime",`picktime--theme-${t.theme}`,`picktime--animation-${t.animation}`,`picktime--clock-${t.clock}`),i.innerHTML=`<div class="picktime--body">\n      <input class="picktime--input" type="text" name="pickerHours" maxlength="2" tabindex="1" readonly>\n      <div class="picktime--dots"></div>\n      <input class="picktime--input" type="text" name="pickerMinutes" maxlength="2" tabindex="2" readonly>\n      ${this.#o?this.#s():""}\n    </div>`;const n=this.#l();this.#a&&i.appendChild(n),document.body.appendChild(i),this.#n=i}position(){const t=this.#e.offset?.left||0,e=this.#e.offset?.top||0,i=this.#n.querySelector(".picktime--arrow");bt(this.#t,this.#n,(()=>{i&&(i.classList.remove("picktime--arrow-top"),i.classList.remove("picktime--arrow-bottom")),St(this.#t,this.#n,{placement:"bottom-start",middleware:[vt({crossAxis:t,mainAxis:e}),kt(),xt({padding:5}),this.#a&&i&&Et({element:i})]}).then((({x:t,y:e,placement:n,middlewareData:r})=>{if(Object.assign(this.#n.style,{left:`${t}px`,top:`${e}px`}),this.#a&&i){const{y:t}=r.arrow,e={top:"bottom",right:"left",bottom:"top",left:"right"}[n.split("-")[0]];i&&i.classList.add(`picktime--arrow-${e}`),Object.assign(i.style,{left:"15px",top:null!=t?`${t}px`:"",right:"",bottom:"",[e]:"-6px"})}}))}))}#s(){return`<div class="picktime__meridiem">\n      <label class="picktime__meridiem--switch" tabindex="3" data-tabindex="3">\n        <input class="picktime__meridiem--radio" type="radio" name="pickerMeridiem${this.#i}" value="am">\n        <div class="picktime__meridiem--label"><span>AM</span></div>\n      </label>\n      <label class="picktime__meridiem--switch" tabindex="4" data-tabindex="4">\n        <input class="picktime__meridiem--radio" type="radio" name="pickerMeridiem${this.#i}" value="pm">\n        <div class="picktime__meridiem--label"><span>PM</span></div>\n      </label>\n    </div>`}#l(){const t=document.createElement("div");return t.className="picktime--arrow",t.innerHTML='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0s2.148.887 3.343 2.385C14.233 6.005 16 6 16 6z"/></svg><svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0s2.148.887 3.343 2.385C14.233 6.005 16 6 16 6z"/></svg>',t}get#o(){return 12===this.#e.clock}get#a(){return this.#e.arrow}get picker(){return this.#n}}class Lt{#n;#i;#c;constructor(t,e,i,n){this.inputEl=t,this.clock=e.clock||12,this.hours=e.time.hours||12,this.minutes=e.time.minutes||0,this.meridiem=e.time.meridiem||"am",this.minuteSteps=e.minuteSteps||1,this.isUpDownKeys=e.upDownKeys||!1,this.isWheelSpin=e.wheelSpin||!1,this.#n=i,this.#i=n,this.hoursInputEl=this.#n.querySelector("input[name=pickerHours]"),this.minutesInputEl=this.#n.querySelector("input[name=pickerMinutes]"),this.meridiemInputEls=this.#n.querySelectorAll(`input[name=pickerMeridiem${this.#i}]`),this.meridiemInputEls.forEach((t=>{t.addEventListener("click",this.handleMeridiemClick),t.parentElement.addEventListener("keydown",this.handleMeridiemKeyDown)})),this.setTime({hours:this.hours,minutes:this.minutes,meridiem:this.meridiem}),this.#u(),this.#m()}setTime({hours:t,minutes:e,meridiem:i}){if(this.hours=Math.abs(t),this.minutes=Math.abs(e),24===this.clock)this.hours>23&&(this.hours=23),60===this.minutes&&(this.minutes=0),this.meridiem=null;else this.hours>12&&(this.hours=12),60===this.minutes&&(this.minutes=0),this.meridiem="am"!==i.toLowerCase()&&"pm"!==i.toLowerCase()?this.meridiem:i.toLowerCase();this.hoursInputEl.value=String(this.hours).padStart(2,"0"),this.minutesInputEl.value=String(this.minutes).padStart(2,"0"),12===this.clock&&this.meridiemInputEls.forEach((t=>{t.value.toLowerCase()===this.meridiem.toLowerCase()&&(t.checked=!0)}));const n=12===this.clock?`${String(this.hours).padStart(2,"0")}:${String(this.minutes).padStart(2,"0")} ${this.meridiem.toUpperCase()}`:`${String(this.hours).padStart(2,"0")}:${String(this.minutes).padStart(2,"0")}`;this.inputEl.value=n,this.#c={displayTime:n,meridiem:12===this.clock?this.meridiem:null,time:`${String(this.hours).padStart(2,"0")}:${String(this.minutes).padStart(2,"0")}`,utcOffset:this.#h()},this.inputEl.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))}#u(){[this.hoursInputEl,this.minutesInputEl].forEach((t=>t.addEventListener("keydown",(e=>{"Tab"!==e.key&&e.preventDefault(),this.isUpDownKeys&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),t.focus(),"pickerHours"===t.name?this.#p("ArrowUp"===e.key,"ArrowDown"===e.key):this.#f("ArrowUp"===e.key,"ArrowDown"===e.key)))}))))}handleMeridiemClick=t=>{this.meridiem=t.target.value.toLowerCase(),this.setTime({hours:this.hours,minutes:this.minutes,meridiem:this.meridiem})};handleMeridiemKeyDown=t=>{"Tab"!==t.key&&t.preventDefault(),"Space"!==t.code&&" "!==t.key||(this.meridiem=t.target.children[0].value.toLowerCase(),this.setTime({hours:this.hours,minutes:this.minutes,meridiem:this.meridiem}))};handleWheel=t=>{t.deltaY&&(t.preventDefault(),t.target.focus(),"pickerHours"===t.target.name?this.#p(t.deltaY>0,t.deltaY<0):this.#f(t.deltaY>0,t.deltaY<0))};#m(){this.isWheelSpin&&[this.hoursInputEl,this.minutesInputEl].forEach((t=>t.addEventListener("wheel",this.handleWheel)))}#p(t,e){if(t&&(this.hours+=1),e&&(this.hours-=1),24===this.clock)this.hours<0&&(this.hours=23),this.hours>23&&(this.hours=0);else 0===this.hours&&(this.hours=12),this.hours>12&&(this.hours=1);this.setTime({hours:this.hours,minutes:this.minutes,meridiem:this.meridiem})}#f(t,e){if(t&&(this.minutes+=this.minuteSteps),e&&(this.minutes-=this.minuteSteps),this.minutes<0)if(this.minutes=60-this.minuteSteps,24===this.clock)0===this.hours&&(this.hours=24),this.hours-=1;else 1===this.hours&&(this.hours=12),this.hours-=1;if(this.minutes>60-this.minuteSteps)if(this.minutes=0,24===this.clock)23===this.hours&&(this.hours=0),this.hours+=1;else 12===this.hours&&(this.hours=0),this.hours+=1;this.setTime({hours:this.hours,minutes:this.minutes,meridiem:this.meridiem})}#h(){const t=(new Date).getTimezoneOffset(),e=Math.floor(Math.abs(t)/60),i=Math.abs(t)%60;return`${t<=0?"+":"-"}${String(e).padStart(2,"0")}:${String(i).padStart(2,"0")}`}get time(){return this.#c}}class At{#t;#e;#d={animation:"drop",arrow:!0,clock:12,minuteSteps:1,offset:{left:0,top:2},theme:"light",time:{hours:12,minutes:0,meridiem:"am"},upDownKeys:!0,wheelSpin:!0};static pickers=0;#w;#c;constructor(t,e){this.#t=t,(t=>{if(!t)throw new Error("element is not defined");if("INPUT"!==t.tagName||"text"!==t.type)throw new Error("element is not an input text element");t.setAttribute("readonly","")})(this.#t),this.#e=e&&(t=>{if("object"!=typeof t||Array.isArray(t))throw new Error("options must be an object");if("animation"in t&&"string"!=typeof t.animation)throw new Error('"animation" property must be of type string');if(t.animation&&""===t.animation.trim())throw new Error('"animation" property must not be an empty string');if("arrow"in t&&"boolean"!=typeof t.arrow)throw new Error('"arrow" property must be of type boolean');if("clock"in t&&"number"!=typeof t.clock)throw new Error('"clock" property must be of type number');if(t.clock&&12!==t.clock&&24!==t.clock)throw new Error('"clock" property only accepts 12/24 as a value');if("minuteSteps"in t&&"number"!=typeof t.minuteSteps)throw new Error('"minuteSteps" property must be of type number');if(t.minuteSteps&&(t.minuteSteps<1||t.minuteSteps>59))throw new RangeError('"minuteSteps" property must range between 1-59');if("offset"in t&&("object"==typeof t.offset||!Array.isArray(t.offset))){if(t.offset?.top&&!Number.isInteger(t.offset.top))throw new Error('"offset.top" must be an integer');if(t.offset?.left&&!Number.isInteger(t.offset.left))throw new Error('"offset.left" must be an integer')}if("theme"in t&&"string"!=typeof t.theme)throw new Error('"theme" property must be of type string');if(t.theme&&""===t.theme.trim())throw new Error('"theme" property must not be an empty string');if("time"in t&&("object"==typeof t.time||!Array.isArray(t.time))){if(t.time?.hours&&!Number.isInteger(t.time.hours))throw new Error('"time.hours" must be an integer');if(t.time?.hours&&(t.time.hours<0||t.time.hours>23))throw new RangeError('"time.hours" property must range between 1-23');if(t.time?.minutes&&!Number.isInteger(t.time.minutes))throw new Error('"time.minutes" must be an integer');if(t.time?.minutes&&(t.time.minutes<0||t.time.minutes>59))throw new RangeError('"time.minutes" property must range between 1-59');if(t.time?.meridiem&&"string"!=typeof t.time.meridiem)throw new Error('"time.meridiem" must be a string');if(t.time?.meridiem&&"am"!==t.time?.meridiem.toLowerCase()&&"pm"!==t.time?.meridiem.toLowerCase())throw new Error('"time.meridiem" value must be am/pm')}if("upDownKeys"in t&&"boolean"!=typeof t.upDownKeys)throw new Error('"upDownKeys" property must be of type boolean');if("wheelSpin"in t&&"boolean"!=typeof t.wheelSpin)throw new Error('"wheelSpin" property must be of type boolean');if(!1===t.upDownKeys&&!1===t.wheelSpin)throw new Error('atleast one of "upDownKeys" OR "wheelSpin" must be true');return!0})(e)?{...this.#d,...e}:this.#d,At.pickers++,this.#y(this.#t,this.#e,At.pickers),this.#g(),this.#c=new Lt(this.#t,this.#e,this.#w.picker,At.pickers)}#y(t,e,i){const n=new Tt(t,e,i);this.#w=n}#b=()=>{this.#w.picker.classList.add("picktime--active"),this.#w.position(),this.#w.picker.querySelector("input[name=pickerHours]").focus({preventScroll:!0})};#v=t=>{t.target===this.#t||t.target===this.#w.picker||t.target.className.startsWith("picktime")||this.#w.picker.classList.remove("picktime--active")};#g(){this.#t.addEventListener("focus",this.#b),document.addEventListener("mousedown",this.#v)}setTime({hours:t,minutes:e,meridiem:i}){if(t&&!Number.isInteger(t))throw new Error('setTime() "hours" must be an integer');if(t&&(t<0||t>23))throw new RangeError('setTime() "hours" property must range between 1-23');if(e&&!Number.isInteger(e))throw new Error('setTime() "minutes" must be an integer');if(e&&(e<0||e>59))throw new RangeError('setTime() "minutes" property must range between 1-59');if(i&&"string"!=typeof i)throw new Error('setTime() "meridiem" must be a string');if(i&&"am"!==i.toLowerCase()&&"pm"!==i.toLowerCase())throw new Error('setTime() "meridiem" value must be am/pm');this.#c.setTime({hours:t,minutes:e,meridiem:i})}disable(){this.#w.picker.querySelectorAll("input[type=text]").forEach((t=>{t.setAttribute("disabled",""),t.removeEventListener("wheel",this.#c.handleWheel),t.style.pointerEvents="none"})),this.#w.picker.querySelectorAll("input[type=radio]").forEach((t=>{t.removeEventListener("click",this.#c.handleMeridiemClick),t.parentElement.removeEventListener("keydown",this.#c.handleMeridiemKeyDown),t.parentElement.style.pointerEvents="none",t.parentElement.setAttribute("tabindex","-1")}))}enable(){this.#w.picker.querySelectorAll("input[type=text]").forEach((t=>{t.removeAttribute("disabled"),t.addEventListener("wheel",this.#c.handleWheel),t.style.pointerEvents="auto"})),this.#w.picker.querySelectorAll("input[type=radio]").forEach((t=>{t.addEventListener("click",this.#c.handleMeridiemClick),t.parentElement.addEventListener("keydown",this.#c.handleMeridiemKeyDown),t.parentElement.style.pointerEvents="auto",t.parentElement.setAttribute("tabindex",t.parentElement.dataset.tabindex)}))}destroy(){At.pickers--,this.#e=this.#d,this.#w.picker.remove(),this.#t.value="",this.#t.removeAttribute("readonly"),this.#t.removeEventListener("focus",this.#b),document.removeEventListener("mousedown",this.#v)}get getTime(){return this.#c.time}}t.PickTime=At}));
